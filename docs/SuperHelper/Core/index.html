<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.9.2" />
<title>SuperHelper.Core API documentation</title>
<meta name="description" content="" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>SuperHelper.Core</code></h1>
</header>
<section id="section-intro">
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python"># Load the frequently used functions from subpackages
from SuperHelper.Core.Config import pass_config
from .core_loader import load_added_modules
from .core_commands import load_core_commands
from .core_cli import cli, main_entry, run_startup, save_config

__all__ = [
    &#34;pass_config&#34;,
    &#34;load_added_modules&#34;,
    &#34;load_core_commands&#34;,
    &#34;cli&#34;,
    &#34;main_entry&#34;,
    &#34;run_startup&#34;,
    &#34;save_config&#34;,
]</code></pre>
</details>
</section>
<section>
<h2 class="section-title" id="header-submodules">Sub-modules</h2>
<dl>
<dt><code class="name"><a title="SuperHelper.Core.Config" href="Config/index.html">SuperHelper.Core.Config</a></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt><code class="name"><a title="SuperHelper.Core.Utils" href="Utils/index.html">SuperHelper.Core.Utils</a></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt><code class="name"><a title="SuperHelper.Core.core_cli" href="core_cli.html">SuperHelper.Core.core_cli</a></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt><code class="name"><a title="SuperHelper.Core.core_commands" href="core_commands.html">SuperHelper.Core.core_commands</a></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt><code class="name"><a title="SuperHelper.Core.core_loader" href="core_loader.html">SuperHelper.Core.core_loader</a></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-functions">Functions</h2>
<dl>
<dt id="SuperHelper.Core.load_added_modules"><code class="name flex">
<span>def <span class="ident">load_added_modules</span></span>(<span>config: dict) ‑> list</span>
</code></dt>
<dd>
<div class="desc"><p>Loads all added modules.</p>
<h2 id="returns">Returns</h2>
<p>A list of a 2-tuple elements, where the first index is the <code>click.command</code> object, and the second index is the
technical name of the command. For example:</p>
<pre><code>[(main, &quot;main&quot;), ...]
</code></pre>
<p>The first index can be added to a <code>click.group</code>, i.e the <code>cli</code> function.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@pass_config(core=True, lock=False)
def load_added_modules(config: dict[str, ...]) -&gt; list[tuple[click.Command, str]]:
    &#34;&#34;&#34;Loads all added modules.

    Returns:
        A list of a 2-tuple elements, where the first index is the `click.command` object, and the second index is the
        technical name of the command. For example:

        ```
        [(main, &#34;main&#34;), ...]
        ```

        The first index can be added to a `click.group`, i.e the `cli` function.
    &#34;&#34;&#34;
    module_entries = []
    for module_name in config[&#34;INSTALLED_MODULES&#34;]:
        try:
            # Attempt to import the module
            module = importlib.import_module(module_name)
            module_entries.append((module.main, module_name))
        except ImportError:
            logger.exception(f&#34;Cannot import module &#39;{module_name}&#39;!&#34;)
        except AttributeError:
            logger.exception(f&#34;Module &#39;{module_name}&#39; does not have main()!&#34;)
    return module_entries</code></pre>
</details>
</dd>
<dt id="SuperHelper.Core.load_core_commands"><code class="name flex">
<span>def <span class="ident">load_core_commands</span></span>(<span>) ‑> list</span>
</code></dt>
<dd>
<div class="desc"><p>Loads the Core CLI commands.</p>
<h2 id="returns">Returns</h2>
<p>A list of a 2-tuple elements, where the first index is the <code>click.command</code> object, and the second index is the
technical name of the command. For example:</p>
<pre><code>[(add_modules, &quot;core_add&quot;), ...]
</code></pre>
<p>The first index can be added to a <code>click.group</code>, i.e the <code>cli</code> function.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def load_core_commands() -&gt; list[tuple[Callable, str]]:
    &#34;&#34;&#34;Loads the Core CLI commands.

    Returns:
        A list of a 2-tuple elements, where the first index is the `click.command` object, and the second index is the
        technical name of the command. For example:

        ```
        [(add_modules, &#34;core_add&#34;), ...]
        ```

        The first index can be added to a `click.group`, i.e the `cli` function.
    &#34;&#34;&#34;
    return [
        (add_modules, &#34;core_add&#34;),
        (remove_modules, &#34;core_remove&#34;),
        (list_modules, &#34;core_list&#34;),
    ]</code></pre>
</details>
</dd>
<dt id="SuperHelper.Core.main_entry"><code class="name flex">
<span>def <span class="ident">main_entry</span></span>(<span>) ‑> NoReturn</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def main_entry() -&gt; NoReturn:
    # Run startup setting
    run_startup()
    try:
        # Execute CLI
        sys.exit(cli())
    except SystemExit:
        # Save application config
        save_config()
        raise</code></pre>
</details>
</dd>
<dt id="SuperHelper.Core.pass_config"><code class="name flex">
<span>def <span class="ident">pass_config</span></span>(<span>core: bool = None, module_name: str = None, lock: bool = False, param_name: str = 'config') ‑> Callable</span>
</code></dt>
<dd>
<div class="desc"><p>Passes the requested config to decorated functions.</p>
<p>The wrapped function will receive the config (as requested). When the function returns (or raises SystemExit), this
decorator will capture that signal, save the config (if locked) before returning (or re-raising SystemExit).</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>core</code></strong> :&ensp;<code>bool</code></dt>
<dd>Whether to request core config.</dd>
<dt><strong><code>module_name</code></strong> :&ensp;<code>str</code></dt>
<dd>The name of the module.</dd>
<dt><strong><code>lock</code></strong> :&ensp;<code>bool</code></dt>
<dd>Whether to lock the config, i.e allow writing to the config.</dd>
<dt><strong><code>param_name</code></strong> :&ensp;<code>str</code></dt>
<dd>The name of the parameter that the config will be passed as.</dd>
</dl>
<h2 id="returns">Returns</h2>
<p>A Callable instance (the decorated function).</p>
<h2 id="raises">Raises</h2>
<dl>
<dt><code>SystemExit</code></dt>
<dd>Re-raises the <code>SystemExit()</code> raised by the wrapped function.</dd>
<dt><code>ValueError</code></dt>
<dd>Both <code>core</code> and <code>module_name</code> are specified.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def pass_config(core: bool = None, module_name: str = None, lock: bool = False, param_name: str = &#34;config&#34;) -&gt; Callable:
    &#34;&#34;&#34;Passes the requested config to decorated functions.

    The wrapped function will receive the config (as requested). When the function returns (or raises SystemExit), this
    decorator will capture that signal, save the config (if locked) before returning (or re-raising SystemExit).

    Args:
        core (bool): Whether to request core config.
        module_name (str): The name of the module.
        lock (bool): Whether to lock the config, i.e allow writing to the config.
        param_name (str): The name of the parameter that the config will be passed as.

    Returns:
        A Callable instance (the decorated function).

    Raises:
        SystemExit: Re-raises the `SystemExit()` raised by the wrapped function.
        ValueError: Both `core` and `module_name` are specified.
    &#34;&#34;&#34;

    def decorator(f: Callable) -&gt; Callable:
        @wraps(f)
        def wrapper(*args, **kwargs) -&gt; ...:
            if core is None and module_name is None:
                return f(global_config, *args, **kwargs)
            elif core is not None and module_name is None:
                if lock:
                    config = global_config.get_core_config(lock=True)
                    kwargs[param_name] = config
                    try:
                        ret_val = f(*args, **kwargs)
                        global_config.set_core_config(config)
                        return ret_val
                    except SystemExit:
                        global_config.set_core_config(config)
                        raise
                else:
                    kwargs[param_name] = global_config.get_core_config(lock=False)
                    return f(*args, **kwargs)
            elif core is None and module_name is not None:
                if lock:
                    config = global_config.get_module_config(module_name, lock=True)
                    kwargs[param_name] = config
                    try:
                        ret_val = f(*args, **kwargs)
                        global_config.set_module_config(module_name, config)
                        return ret_val
                    except SystemExit:
                        global_config.set_module_config(module_name, config)
                        raise
                else:
                    kwargs[param_name] = global_config.get_module_config(module_name, lock=lock)
                    return f(*args, **kwargs)
            else:
                raise ValueError(&#34;Core and module name cannot be enabled at the same time!&#34;)

        return wrapper

    return decorator</code></pre>
</details>
</dd>
<dt id="SuperHelper.Core.run_startup"><code class="name flex">
<span>def <span class="ident">run_startup</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def run_startup():
    # Load core logger
    make_logger_global()
    # Validate platform
    validate_no_win32()
    # Load config
    load_config()
    # Load core utilities and functionalities
    load_core_commands()
    # Load installed modules
    load_added_modules()
    # Print all messages before executing CLI
    sys.stdout.flush()
    sys.stderr.flush()</code></pre>
</details>
</dd>
<dt id="SuperHelper.Core.save_config"><code class="name flex">
<span>def <span class="ident">save_config</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"><p>Saves application config.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def save_config():
    &#34;&#34;&#34;Saves application config.&#34;&#34;&#34;
    from SuperHelper.Core.Config import save_app_config
    save_app_config(CONFIG_PATH)</code></pre>
</details>
</dd>
</dl>
</section>
<section>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="SuperHelper" href="../index.html">SuperHelper</a></code></li>
</ul>
</li>
<li><h3><a href="#header-submodules">Sub-modules</a></h3>
<ul>
<li><code><a title="SuperHelper.Core.Config" href="Config/index.html">SuperHelper.Core.Config</a></code></li>
<li><code><a title="SuperHelper.Core.Utils" href="Utils/index.html">SuperHelper.Core.Utils</a></code></li>
<li><code><a title="SuperHelper.Core.core_cli" href="core_cli.html">SuperHelper.Core.core_cli</a></code></li>
<li><code><a title="SuperHelper.Core.core_commands" href="core_commands.html">SuperHelper.Core.core_commands</a></code></li>
<li><code><a title="SuperHelper.Core.core_loader" href="core_loader.html">SuperHelper.Core.core_loader</a></code></li>
</ul>
</li>
<li><h3><a href="#header-functions">Functions</a></h3>
<ul class="two-column">
<li><code><a title="SuperHelper.Core.load_added_modules" href="#SuperHelper.Core.load_added_modules">load_added_modules</a></code></li>
<li><code><a title="SuperHelper.Core.load_core_commands" href="#SuperHelper.Core.load_core_commands">load_core_commands</a></code></li>
<li><code><a title="SuperHelper.Core.main_entry" href="#SuperHelper.Core.main_entry">main_entry</a></code></li>
<li><code><a title="SuperHelper.Core.pass_config" href="#SuperHelper.Core.pass_config">pass_config</a></code></li>
<li><code><a title="SuperHelper.Core.run_startup" href="#SuperHelper.Core.run_startup">run_startup</a></code></li>
<li><code><a title="SuperHelper.Core.save_config" href="#SuperHelper.Core.save_config">save_config</a></code></li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc"><cite>pdoc</cite> 0.9.2</a>.</p>
</footer>
</body>
</html>